# Research: murmansk-bot

## Unknowns from Technical Context
- Как лучше реализовать хранение событий: .json или сразу предусмотреть расширяемость для PostgreSQL?
- Как обеспечить поддержку нескольких чатов и разграничение событий?
- Как реализовать динамические команды в Telegram API (go-telegram/bot)?
- Как организовать структуру проекта для расширяемости и тестируемости?
- Как реализовать локализацию?

## Technology Choices & Best Practices
- **Go (golang)**: выбран за простоту, производительность, богатую стандартную библиотеку.
- **Telegram API**: используем github.com/go-telegram/bot, поддерживает регистрацию команд и обработчиков.
- **Хранение событий**: основной вариант — .json, расширяемость через интерфейс Storage, реализация для PostgreSQL через отдельный пакет.
- **Структура проекта**: рекомендуется использовать cmd/, internal/, pkg/ для модульности.
- **Логирование**: стандартный log, при необходимости logrus/zap.
- **Тестирование**: стандартный testing, для сложных случаев testify.
- **Контейнеризация**: Dockerfile уже есть, запуск через docker-compose.

## Decisions
- Сначала реализовать хранение событий в .json, предусмотреть интерфейс для расширения на БД.
- События должны быть видимы всем участникам чата.
- Динамические команды реализуются через регистрацию обработчиков в go-telegram/bot.
- Структура проекта: cmd/, internal/, pkg/, tests/.
- Локализация — через отдельный пакет, пока только английский/русский.

## Alternatives Considered
- SQLite вместо PostgreSQL — проще для локального использования, но PostgreSQL лучше для масштабирования.
- Использование других Telegram API (telebot, tgbotapi) — выбрано go-telegram/bot за простоту и поддержку.
- Хранение событий только в памяти — не подходит, нужна устойчивость к перезапускам.

## Rationale
- Выбранные технологии и подходы обеспечивают расширяемость, тестируемость и удобство поддержки.
- Структура проекта облегчает добавление новых функций и тестов.
- Интерфейс Storage позволяет легко переключаться между .json и БД.
